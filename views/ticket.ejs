<head>
  <!-- Link Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>

<body>
  <!-- Card Awal -->
  <div class="card-container-ticket">
    <div class="card">
      <div class="card-header">
        <h5>Detail Pesanan</h5>
      </div>
      <div class="card-body-ticket">
        <h6 class="card-title" id="card-movieTitle"></h6>
        <p class="card-text">
          <i class="fas fa-location-pin"></i> <span id="card-location"></span><br>
          <i class="fas fa-calendar-day"></i> <span id="card-date"></span><br>
          <i class="fas fa-clock"></i> <span id="card-time"></span>
        </p>
        <div class="status" id="status"></div>
        <button class="btn btn-primary" id="show-ticket">Tampilkan Tiket</button>
      </div>
    </div>
  </div>

  <!-- Tiket -->
  <div class="ticket-container">
    <div class="ticket-header">
      <h4>TIKET BIOSKOP</h4>
      <p>RANARA CINEMA</p>
    </div>
    <div class="ticket-content">
      <h5><strong>Detail Tiket</strong></h5>
      <div class="ticket-details">
        <div><i class="fas fa-film"></i> <strong></strong> <span id="movieTitle"></span></div>
        <div><i class="fas fa-location-pin"></i> <strong></strong> <span id="location"></span></div>
        <div><i class="fas fa-calendar-day"></i> <strong></strong> <span id="date"></span></div>
        <div><i class="fas fa-clock"></i> <strong></strong> <span id="time"></span></div>
        <div><i class="fas fa-chair"></i> <strong></strong> <span id="seats"></span></div>
        <div><i class="fas fa-money-bill-wave"></i> <strong></strong> <span id="total"></span></div>
      </div>
      <div class="barcode">
        <!-- Simulasi Barcode -->
        <div></div><div></div><div></div><div></div><div></div><div></div>
        <div></div><div></div><div></div><div></div><div></div>
      </div>
    </div>
    <div class="ticket-footer">
      <p><strong>Kode Booking:</strong> <span id="bookingCode"></span></p>
      <p>Terima kasih telah memesan tiket di RANARA CINEMA!</p>
    </div>
  </div>

  <div class="text-center mt-4">
    <button class="btn btn-print" onclick="window.print()">Cetak Tiket</button>
  </div>

  <script>
    // Ambil data dari localStorage
    const orderData = JSON.parse(localStorage.getItem('orderData'));

    // Tampilkan data pada card awal
    if (orderData) {
      document.getElementById('card-movieTitle').textContent = `Film: ${orderData.movie}`;
      document.getElementById('card-location').textContent = orderData.location;
      document.getElementById('card-date').textContent = orderData.date;
      document.getElementById('card-time').textContent = orderData.time;

      // Tampilkan status kecil di dalam card
      document.getElementById('status').textContent = 'Berhasil';

      // Tampilkan card awal
      document.querySelector('.card-container-ticket').style.display = 'block';

      // Saat tombol "Tampilkan Tiket" ditekan
document.getElementById('show-ticket').addEventListener('click', () => {
  const ticketContainer = document.querySelector('.ticket-container');
  
  // Toggle visibility
  if (ticketContainer.style.display === 'block') {
    ticketContainer.style.display = 'none'; // Sembunyikan jika sudah muncul
  } else {
    ticketContainer.style.display = 'block'; // Tampilkan jika belum muncul

    // Isi detail tiket
    document.getElementById('movieTitle').textContent = orderData.movie;
    document.getElementById('location').textContent = orderData.location;
    document.getElementById('date').textContent = orderData.date;
    document.getElementById('time').textContent = orderData.time;
    document.getElementById('seats').textContent = orderData.seats.join(', ');
    document.getElementById('total').textContent = `Rp ${orderData.total.toLocaleString('id-ID')}`;
    document.getElementById('bookingCode').textContent = orderData.bookingCode;
  }
});

    } else {
      alert('Tidak ada data tiket. Silakan lakukan pemesanan terlebih dahulu.');
      window.location.href = 'order.html'; // Kembali ke halaman order jika data tidak ditemukan
    }
  </script>
</body>

